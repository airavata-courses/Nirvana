{"ast":null,"code":"import _defineProperty from\"/home/raj/Desktop/Data/Nirvana/alpha-testing-branch/Nirvana/ReactFrontEnd/nirvana-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/raj/Desktop/Data/Nirvana/alpha-testing-branch/Nirvana/ReactFrontEnd/nirvana-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/raj/Desktop/Data/Nirvana/alpha-testing-branch/Nirvana/ReactFrontEnd/nirvana-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/raj/Desktop/Data/Nirvana/alpha-testing-branch/Nirvana/ReactFrontEnd/nirvana-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/raj/Desktop/Data/Nirvana/alpha-testing-branch/Nirvana/ReactFrontEnd/nirvana-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/raj/Desktop/Data/Nirvana/alpha-testing-branch/Nirvana/ReactFrontEnd/nirvana-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/raj/Desktop/Data/Nirvana/alpha-testing-branch/Nirvana/ReactFrontEnd/nirvana-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import FormControlLabel from'@material-ui/core/FormControlLabel';import Checkbox from'@material-ui/core/Checkbox';// import Link from '@material-ui/core/Link';\nimport Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{withStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import{Link}from\"react-router-dom\";import axios from'axios';import{api_gateway_url}from'../constants/constants';import cookie from'react-cookies';function Copyright(){return React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\"},'Copyright Â© ',new Date().getFullYear(),'.');}var useStyles=function useStyles(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};};var SignIn=/*#__PURE__*/function(_Component){_inherits(SignIn,_Component);function SignIn(props){var _this;_classCallCheck(this,SignIn);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignIn).call(this,props));_this.state={email:'',password:''};_this.userLogin=_this.userLogin.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(SignIn,[{key:\"userLogin\",value:function userLogin(e){var _this2=this;e.preventDefault();var payload={email:this.state.email,password:this.state.password};console.log(payload);axios.post(api_gateway_url+'authenticateUser',payload).then(function(res){console.log(res);if(res.data[\"ApiCall\"]==='login Successful'){cookie.save('jwt',res.data['jwt']);cookie.save('email',_this2.state.email);_this2.props.history.push('/dashboard');// cookie.save('session_id', res.data['session_id'])\n}});}},{key:\"handleChange\",value:function handleChange(event){var target=event.target;var value=target.type==='checkbox'?target.checked:target.value;var name=target.name;this.setState(_defineProperty({},name,value));}},{key:\"render\",value:function render(){var classes=this.props.classes;return React.createElement(\"div\",null,React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},React.createElement(CssBaseline,null),React.createElement(\"div\",{className:classes.paper},React.createElement(Avatar,{className:classes.avatar},React.createElement(LockOutlinedIcon,null)),React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Sign in\"),React.createElement(\"form\",{className:classes.form,noValidate:true},React.createElement(TextField,{variant:\"outlined\",onChange:this.handleChange,margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true}),React.createElement(TextField,{variant:\"outlined\",onChange:this.handleChange,margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\"}),React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{value:\"remember\",color:\"primary\"}),label:\"Remember me\"}),React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",onClick:this.userLogin,className:classes.submit},\"Sign In\"),React.createElement(Grid,{container:true},React.createElement(Grid,{item:true},React.createElement(Link,{to:\"/signUp\",variant:\"body2\"},\"Don't have an account? Sign Up\"))))),React.createElement(Box,{mt:8},React.createElement(Copyright,null))));}}]);return SignIn;}(Component);export default withStyles(useStyles)(SignIn);","map":{"version":3,"sources":["/home/raj/Desktop/Data/Nirvana/alpha-testing-branch/Nirvana/ReactFrontEnd/nirvana-frontend/src/components/signin.js"],"names":["React","Component","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Grid","Box","LockOutlinedIcon","Typography","withStyles","Container","Link","axios","api_gateway_url","cookie","Copyright","Date","getFullYear","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignIn","props","state","email","password","userLogin","bind","handleChange","e","preventDefault","payload","console","log","post","then","res","data","save","history","push","event","target","value","type","checked","name","setState","classes"],"mappings":"2tCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA;AACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,eAAR,KAA8B,wBAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CAIA,QAASC,CAAAA,SAAT,EAAqB,CACnB,MACE,qBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,eAAlC,CAAkD,KAAK,CAAC,QAAxD,EACG,cADH,CAKG,GAAIC,CAAAA,IAAJ,GAAWC,WAAX,EALH,CAMG,GANH,CADF,CAUD,CACD,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,QAAK,CAC1BC,KAAK,CAAE,CACLC,SAAS,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADN,CAELC,OAAO,CAAE,MAFJ,CAGLC,aAAa,CAAE,QAHV,CAILC,UAAU,CAAE,QAJP,CADmB,CAO1BC,MAAM,CAAE,CACNC,MAAM,CAAER,KAAK,CAACG,OAAN,CAAc,CAAd,CADF,CAENM,eAAe,CAAET,KAAK,CAACU,OAAN,CAAcC,SAAd,CAAwBC,IAFnC,CAPkB,CAW1BC,IAAI,CAAE,CACJC,KAAK,CAAE,MADH,CACW;AACfZ,SAAS,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CAFP,CAXoB,CAe1BY,MAAM,CAAE,CACNP,MAAM,CAAER,KAAK,CAACG,OAAN,CAAc,CAAd,CAAiB,CAAjB,CAAoB,CAApB,CADF,CAfkB,CAAL,EAAvB,C,GAqBMa,CAAAA,M,gEAEJ,gBAAYC,KAAZ,CAAmB,wCACjB,wEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,EADI,CAEXC,QAAQ,CAAE,EAFC,CAAb,CAIA,MAAKC,SAAL,CAAiB,MAAKA,SAAL,CAAeC,IAAf,+BAAjB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CAPiB,aAQlB,C,+DAGSE,C,CAAG,iBACXA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,OAAO,CAAG,CACdP,KAAK,CAAE,KAAKD,KAAL,CAAWC,KADJ,CAEdC,QAAQ,CAAE,KAAKF,KAAL,CAAWE,QAFP,CAAhB,CAIAO,OAAO,CAACC,GAAR,CAAYF,OAAZ,EACAjC,KAAK,CAACoC,IAAN,CAAWnC,eAAe,CAAG,kBAA7B,CAAiDgC,OAAjD,EACEI,IADF,CACO,SAAAC,GAAG,CAAI,CACVJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,EACA,GAAIA,GAAG,CAACC,IAAJ,CAAS,SAAT,IAAwB,kBAA5B,CAAgD,CAC9CrC,MAAM,CAACsC,IAAP,CAAY,KAAZ,CAAmBF,GAAG,CAACC,IAAJ,CAAS,KAAT,CAAnB,EACArC,MAAM,CAACsC,IAAP,CAAY,OAAZ,CAAqB,MAAI,CAACf,KAAL,CAAWC,KAAhC,EACA,MAAI,CAACF,KAAL,CAAWiB,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EACA;AACD,CAEF,CAVH,EAYD,C,kDAEYC,K,CAAO,CAClB,GAAMC,CAAAA,MAAM,CAAGD,KAAK,CAACC,MAArB,CACA,GAAMC,CAAAA,KAAK,CAAGD,MAAM,CAACE,IAAP,GAAgB,UAAhB,CAA6BF,MAAM,CAACG,OAApC,CAA8CH,MAAM,CAACC,KAAnE,CACA,GAAMG,CAAAA,IAAI,CAAGJ,MAAM,CAACI,IAApB,CAEA,KAAKC,QAAL,oBACGD,IADH,CACUH,KADV,GAGD,C,uCAEQ,IACCK,CAAAA,OADD,CACa,KAAK1B,KADlB,CACC0B,OADD,CAEP,MACE,gCACE,oBAAC,SAAD,EAAW,SAAS,CAAC,MAArB,CAA4B,QAAQ,CAAC,IAArC,EACE,oBAAC,WAAD,MADF,CAEE,2BAAK,SAAS,CAAEA,OAAO,CAAC1C,KAAxB,EACE,oBAAC,MAAD,EAAQ,SAAS,CAAE0C,OAAO,CAACpC,MAA3B,EACE,oBAAC,gBAAD,MADF,CADF,CAIE,oBAAC,UAAD,EAAY,SAAS,CAAC,IAAtB,CAA2B,OAAO,CAAC,IAAnC,YAJF,CAOE,4BAAM,SAAS,CAAEoC,OAAO,CAAC9B,IAAzB,CAA+B,UAAU,KAAzC,EACE,oBAAC,SAAD,EACE,OAAO,CAAC,UADV,CAEE,QAAQ,CAAE,KAAKU,YAFjB,CAGE,MAAM,CAAC,QAHT,CAIE,QAAQ,KAJV,CAKE,SAAS,KALX,CAME,EAAE,CAAC,OANL,CAOE,KAAK,CAAC,eAPR,CAQE,IAAI,CAAC,OARP,CASE,YAAY,CAAC,OATf,CAUE,SAAS,KAVX,EADF,CAaE,oBAAC,SAAD,EACE,OAAO,CAAC,UADV,CAEE,QAAQ,CAAE,KAAKA,YAFjB,CAGE,MAAM,CAAC,QAHT,CAIE,QAAQ,KAJV,CAKE,SAAS,KALX,CAME,IAAI,CAAC,UANP,CAOE,KAAK,CAAC,UAPR,CAQE,IAAI,CAAC,UARP,CASE,EAAE,CAAC,UATL,CAUE,YAAY,CAAC,kBAVf,EAbF,CAyBE,oBAAC,gBAAD,EACE,OAAO,CAAE,oBAAC,QAAD,EAAU,KAAK,CAAC,UAAhB,CAA2B,KAAK,CAAC,SAAjC,EADX,CAEE,KAAK,CAAC,aAFR,EAzBF,CA6BE,oBAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,SAAS,KAFX,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,SAJR,CAKE,OAAO,CAAE,KAAKF,SALhB,CAME,SAAS,CAAEsB,OAAO,CAAC5B,MANrB,YA7BF,CAuCE,oBAAC,IAAD,EAAM,SAAS,KAAf,EAEE,oBAAC,IAAD,EAAM,IAAI,KAAV,EACE,oBAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,OAAO,CAAC,OAA3B,EACG,gCADH,CADF,CAFF,CAvCF,CAPF,CAFF,CA0DE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EACE,oBAAC,SAAD,MADF,CA1DF,CADF,CADF,CAkED,C,oBAhHkBpC,S,EAqHrB,cAAeW,CAAAA,UAAU,CAACS,SAAD,CAAV,CAAsBiB,MAAtB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\n// import Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { Link } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport {api_gateway_url} from '../constants/constants'\nimport cookie from 'react-cookies'\n\n\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright Â© '}\n      {/* <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Nirvana\n      </Link>{' '} */}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\nconst useStyles = theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n});\n\n\nclass SignIn extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    };\n    this.userLogin = this.userLogin.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n\n  userLogin(e) {\n    e.preventDefault();\n    const payload = {\n      email: this.state.email,\n      password: this.state.password\n    }\n    console.log(payload)\n    axios.post(api_gateway_url + 'authenticateUser', payload).\n      then(res => {\n        console.log(res)\n        if (res.data[\"ApiCall\"] === 'login Successful') {\n          cookie.save('jwt', res.data['jwt'])\n          cookie.save('email', this.state.email)\n          this.props.history.push('/dashboard');\n          // cookie.save('session_id', res.data['session_id'])\n        }\n\n      })\n\n  }\n  \n  handleChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        <Container component=\"main\" maxWidth=\"xs\">\n          <CssBaseline />\n          <div className={classes.paper}>\n            <Avatar className={classes.avatar}>\n              <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n              Sign in\n        </Typography>\n            <form className={classes.form} noValidate>\n              <TextField\n                variant=\"outlined\"\n                onChange={this.handleChange}\n                margin=\"normal\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                autoComplete=\"email\"\n                autoFocus\n              />\n              <TextField\n                variant=\"outlined\"\n                onChange={this.handleChange}\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n              />\n              <FormControlLabel\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\n                label=\"Remember me\"\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={this.userLogin}\n                className={classes.submit}\n              >\n                Sign In\n          </Button>\n              <Grid container>\n\n                <Grid item>\n                  <Link to=\"/signUp\" variant=\"body2\">\n                    {\"Don't have an account? Sign Up\"}\n                  </Link>\n                </Grid>\n              </Grid>\n            </form>\n          </div>\n          <Box mt={8}>\n            <Copyright />\n          </Box>\n        </Container>\n      </div>\n    )\n  }\n}\nSignIn.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\nexport default withStyles(useStyles)(SignIn);\n\n"]},"metadata":{},"sourceType":"module"}