(this["webpackJsonpnirvana-frontend"]=this["webpackJsonpnirvana-frontend"]||[]).push([[0],{202:function(e,a,t){e.exports=t(302)},207:function(e,a,t){},208:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},209:function(e,a,t){},302:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(12),l=t.n(i),o=(t(207),t(208),t(209),t(6)),c=t(22),s=t(19),u=t(23),m=t(24),d=t(32),p=t(25),h=t(360),g=t(346),b=t(343),f=t(354),v=t(344),y=t(357),E=t(347),w=t(355),O=t(98),j=t.n(O),C=t(181),x=t(5),k=t(342),S=t(102),N=t(83),D=t.n(N),R="http://127.0.0.1:5000/",_=t(42),W=t.n(_);function H(){return r.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",(new Date).getFullYear(),".")}var A=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={email:"",password:""},t.userLogin=t.userLogin.bind(Object(d.a)(t)),t.handleChange=t.handleChange.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"userLogin",value:function(e){var a=this;e.preventDefault();var t={email:this.state.email,password:this.state.password};console.log(t),D.a.post(R+"authenticateUser",t).then((function(e){console.log(e),"login Successful"===e.data.ApiCall&&(W.a.save("jwt",e.data.jwt),W.a.save("email",a.state.email),a.props.history.push("/dashboard"))}))}},{key:"handleChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(o.a)({},n,t))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(k.a,{component:"main",maxWidth:"xs"},r.a.createElement(b.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(h.a,{className:e.avatar},r.a.createElement(j.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(f.a,{variant:"outlined",onChange:this.handleChange,margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(f.a,{variant:"outlined",onChange:this.handleChange,margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(v.a,{control:r.a.createElement(y.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:this.userLogin,className:e.submit},"Sign In"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0},r.a.createElement(S.b,{to:"/signUp",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(w.a,{mt:8},r.a.createElement(H,null))))}}]),a}(n.Component),M=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(A),P=t(348);function I(){return r.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(P.a,{color:"inherit",href:"https://material-ui.com/"},"Nirvana")," ",(new Date).getFullYear(),".")}var T=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={email:"",password:"",first_name:"",last_name:""},t.userSignup=t.userSignup.bind(Object(d.a)(t)),t.handleChange=t.handleChange.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"userSignup",value:function(e){var a=this;e.preventDefault();var t=this.state;console.log(t),D.a.post(R+"signUpUser",t).then((function(e){console.log(e),"Signup Sucessful"==e.data.ApiCall&&a.props.history.push("/")})),this.props.history.push("/")}},{key:"handleChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(o.a)({},n,t))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(k.a,{component:"main",maxWidth:"xs"},r.a.createElement(b.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(h.a,{className:e.avatar},r.a.createElement(j.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(E.a,{container:!0,spacing:2},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(f.a,{autoComplete:"fname",name:"firstName",onChange:this.handleChange,variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:this.handleChange,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,onChange:this.handleChange,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",onChange:this.handleChange,label:"Password",type:"password",id:"password",autoComplete:"current-password"}))),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:this.userSignup,className:e.submit},"Sign Up"),r.a.createElement(E.a,{container:!0,justify:"flex-end"},r.a.createElement(E.a,{item:!0},r.a.createElement(P.a,{href:"/",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(w.a,{mt:5},r.a.createElement(I,null)))}}]),a}(n.Component),K=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))(T),J=t(15),z=t(165),F=t(18),U=t(351),B=t(349),L=t(345),Y=t(350),q=t(361),G=t(179),V=t(129),Q=t.n(V),$=t(169),X=t.n($),Z=t(170),ee=t.n(Z),ae=t(172),te=t.n(ae),ne=t(178),re=Object(n.createContext)(),ie=function(e){var a=Object(n.useState)({latitude:10,longitude:10,center:{lat:10,lng:10},weather:{}}),t=Object(J.a)(a,2),i=t[0],l=t[1];return r.a.createElement(re.Provider,{value:[i,l]},e.children)},le=t(27),oe=t(353);function ce(){var e=Object(n.useState)(new Date),a=Object(J.a)(e,2),t=a[0],i=a[1],l=Object(n.useState)(new Date),o=Object(J.a)(l,2),c=o[0],s=o[1],u=Object(n.useState)(""),m=Object(J.a)(u,2),d=m[0],p=m[1],h=Object(n.useContext)(re),b=Object(J.a)(h,2),v=(b[0],b[1]),y=0,w=0,O=[1],j=[1],C=[1],x=[1],k=function(e,a,t){console.log(a),fetch(R+"retrieveDataFuture",{method:"POST",headers:e,body:JSON.stringify(a),async:!0}).then((function(a){a.ok?(a.json().then((function(e){console.log("response 2 data"),console.log(e)})),function(e,a){fetch(R+"retrieveDataViz",{method:"POST",headers:e,body:JSON.stringify(a),async:!0}).then((function(e){e.ok?e.json().then((function(e){console.log("response 3 data"),console.log(e)})):console.log("server error -- response 3")}))}(e,t)):console.log("server error -- response 2")}))};return r.a.createElement(le.a,{utils:ne.a},r.a.createElement(f.a,{id:"outlined-basic",label:"Search City",onChange:function(e){p(e.target.value)},variant:"outlined"}),r.a.createElement(E.a,{container:!0,justify:"space-around"},r.a.createElement(oe.a,{margin:"normal",id:"date-picker-dialog",name:"from_date",label:"Date picker dialog",format:"MM/dd/yyyy",value:t||new Date,onChange:function(e){i(Date.parse(e))},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(oe.a,{margin:"normal",id:"date-picker-dialog",name:"to_date",label:"Date picker dialog",format:"MM/dd/yyyy",value:c||new Date,onChange:function(e){s(Date.parse(e))},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){console.log(t);var e=W.a.load("jwt"),a=W.a.load("session_id"),n=new Date(t),r=new Date(c),i=W.a.load("email"),l={from_date:JSON.stringify({year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()}),to_date:JSON.stringify({year:r.getFullYear(),month:r.getMonth()+1,day:r.getDate()}),city_name:d},o={Accept:"application/json","Content-Type":"application/json",email:i,Authorization:e,session_id:a};console.log(l);!function(e,a,t,n){fetch(R+"retrieveData",{method:"POST",headers:e,body:JSON.stringify(a),async:!0}).then((function(a){if(a.ok){a.json().then((function(e){console.log("response 1 data"),console.log(e),y=e.latitude,w=e.longitude,v(e)}));var r={from_date:JSON.stringify({year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}),to_date:JSON.stringify({year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()}),city_name:d,records:JSON.stringify({temprature:O,precipitation:j,humidity:C,wind_speed:x})};k(e,{lat:y,lon:w},r)}else console.log("server error -- response 1")}))}(o,l,n,r)}},"Submit")))}var se=t(171),ue=t.n(se),me=Object(z.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(o.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(o.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(F.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(F.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(o.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(o.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(o.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function de(){var e=me(),a=r.a.useState(null),t=Object(J.a)(a,2),n=t[0],i=t[1],l=r.a.useState(null),o=Object(J.a)(l,2),c=o[0],s=o[1],u=Boolean(n),m=Boolean(c),d=function(e){i(e.currentTarget)},p=function(){s(null)},h=function(){i(null),p(),W.a.remove("jwt"),W.a.remove("email"),W.a.remove("session_id"),window.location.href="/"},g="primary-search-account-menu",b=r.a.createElement(G.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:g,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:h},r.a.createElement(q.a,{onClick:h},"Logout")),f=r.a.createElement(G.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:p},r.a.createElement(q.a,null,r.a.createElement(L.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(Y.a,{badgeContent:4,color:"secondary"},r.a.createElement(X.a,null))),r.a.createElement("p",null,"Messages")),r.a.createElement(q.a,null,r.a.createElement(L.a,{"aria-label":"show 11 new notifications",color:"inherit"},r.a.createElement(Y.a,{badgeContent:11,color:"secondary"},r.a.createElement(ee.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(q.a,{onClick:d},r.a.createElement(L.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(Q.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:e.grow},r.a.createElement(U.a,{position:"static"},r.a.createElement(B.a,null,r.a.createElement(C.a,{className:e.title,variant:"h6",noWrap:!0}),r.a.createElement(ce,null),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",{className:e.sectionDesktop},r.a.createElement(L.a,{"aria-label":"",color:"inherit"},r.a.createElement(Y.a,{color:"secondary"},r.a.createElement(ue.a,null))),r.a.createElement(L.a,{edge:"end","aria-label":"account of current user","aria-controls":g,"aria-haspopup":"true",onClick:d,color:"inherit"},r.a.createElement(Q.a,null))),r.a.createElement("div",{className:e.sectionMobile},r.a.createElement(L.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit"},r.a.createElement(te.a,null))))),f,b)}var pe=t(130),he={width:"40%",height:"40%"},ge=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={latitude:t.props.latitude,longitude:t.props.longitude,center:t.props.center,data:t.props.data},t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this;e.latitude===this.props.latitude&&e.longitude===this.props.longitude||this.setState(this.props,(function(){console.log("Hii!"),console.log(t.state)}))}},{key:"render",value:function(){return r.a.createElement(pe.Map,{google:this.props.google,zoom:14,style:he,center:this.state.center,initialCenter:{lat:this.state.latitude,lng:this.state.longitude}})}}]),a}(n.Component),be=Object(pe.GoogleApiWrapper)({apiKey:"AIzaSyBxER6al8Y-J38QoPWfOeAR626QvPu5g6U"})(ge),fe=t(3),ve=t(356),ye=t(352),Ee=t(173),we=t(2),Oe=t(359),je=t(303),Ce=t(105),xe=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(i)))).getRowClassName=function(e){var a=e.index,n=t.props,r=n.classes,i=n.onRowClick;return Object(we.a)(r.tableRow,r.flexContainer,Object(o.a)({},r.tableRowHover,-1!==a&&null!=i))},t.cellRenderer=function(e){var a=e.cellData,n=e.columnIndex,i=t.props,l=i.columns,c=i.classes,s=i.rowHeight,u=i.onRowClick;return r.a.createElement(Oe.a,{component:"div",className:Object(we.a)(c.tableCell,c.flexContainer,Object(o.a)({},c.noClick,null==u)),variant:"body",style:{height:s},align:null!=n&&l[n].numeric?"right":"left"},a)},t.headerRenderer=function(e){var a=e.label,n=e.columnIndex,i=t.props,l=i.headerHeight,o=i.columns,c=i.classes;return r.a.createElement(Oe.a,{component:"div",className:Object(we.a)(c.tableCell,c.flexContainer,c.noClick),variant:"head",style:{height:l},align:o[n].numeric?"right":"left"},r.a.createElement("span",null,a))},t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.columns,i=a.rowHeight,l=a.headerHeight,o=Object(fe.a)(a,["classes","columns","rowHeight","headerHeight"]);return r.a.createElement(Ce.a,null,(function(a){var c=a.height,s=a.width;return r.a.createElement(Ce.c,Object.assign({height:c,width:s,rowHeight:i,gridStyle:{direction:"inherit"},headerHeight:l,className:t.table},o,{rowClassName:e.getRowClassName}),n.map((function(a,n){var i=a.dataKey,l=Object(fe.a)(a,["dataKey"]);return r.a.createElement(Ce.b,Object.assign({key:i,headerRenderer:function(a){return e.headerRenderer(Object(Ee.a)({},a,{columnIndex:n}))},className:t.flexContainer,cellRenderer:e.cellRenderer,dataKey:i},l))})))}))}}]),a}(r.a.PureComponent);xe.defaultProps={headerHeight:48,rowHeight:48};var ke=Object(x.a)((function(e){return{flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},table:{"& .ReactVirtualized__Table__headerRow":{flip:!1,paddingRight:"rtl"===e.direction?"0px !important":void 0}},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[200]}},tableCell:{flex:1},noClick:{cursor:"initial"}}}))(xe);function Se(){var e=[];var a=Object(n.useContext)(re),t=Object(J.a)(a,2),i=t[0];t[1];console.log(i.weather);var l=0;return Object.keys(i.weather).forEach((function(a){var t,n,r,o,c,s,u;e.push((t=l,n=a,r=i.weather[a].temperature,o=i.weather[a].precipitation_intensity,c=i.weather[a].humidity,s=i.weather[a].wind_speed,u=i.weather[a].visibility,{id:t,day:n,temprature:r,precipitation:o,humidity:c,windSpeed:s,visibility:u})),console.log("my printing",i.weather[a].temperature),l+=1})),r.a.createElement(je.a,{style:{height:400,width:"100%"}},r.a.createElement(ke,{rowCount:e.length,rowGetter:function(a){var t=a.index;return e[t]},columns:[{width:200,label:"Day",dataKey:"day"},{width:120,label:"Temprature",dataKey:"temprature",numeric:!0},{width:120,label:"Precipitation",dataKey:"precipitation",numeric:!0},{width:120,label:"Humidity",dataKey:"humidity",numeric:!0},{width:120,label:"WindSpeed",dataKey:"windSpeed",numeric:!0},{width:120,label:"Visibility",dataKey:"visibility",numeric:!0}]}))}function Ne(e){var a=e.children,t=e.value,n=e.index,i=Object(fe.a)(e,["children","value","index"]);return r.a.createElement(C.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),t===n&&r.a.createElement(w.a,{p:3},a))}function De(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Re=Object(z.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function _e(){var e=Re(),a=r.a.useState(0),t=Object(J.a)(a,2),n=t[0],i=t[1];return r.a.createElement("div",{className:e.root},r.a.createElement(U.a,{position:"static"},r.a.createElement(ve.a,{value:n,onChange:function(e,a){i(a)},"aria-label":"simple tabs example"},r.a.createElement(ye.a,Object.assign({label:"Results"},De(0))),r.a.createElement(ye.a,Object.assign({label:"Next 7 days"},De(1))),r.a.createElement(ye.a,Object.assign({label:"Analysis"},De(2))))),r.a.createElement(Ne,{value:n,index:0},r.a.createElement(Se,null)),r.a.createElement(Ne,{value:n,index:1}),r.a.createElement(Ne,{value:n,index:2},"Item Three"))}var We=Object(z.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));function He(){var e=Object(n.useContext)(re),a=Object(J.a)(e,2),t=a[0],i=(a[1],We());return console.log("Hello: "+t),r.a.createElement("div",{className:i.root},r.a.createElement(E.a,{container:!0,spacing:3},r.a.createElement(E.a,{item:!0,xs:6,sm:6},r.a.createElement(_e,null)),r.a.createElement(E.a,{item:!0,xs:6,sm:6},r.a.createElement(be,{latitude:t.latitude,longitude:t.longitude,center:t.center}))))}var Ae=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(ie,null,r.a.createElement("div",null,r.a.createElement(de,null)),r.a.createElement(He,null))}}]),a}(n.Component),Me=t(57);var Pe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S.a,null,r.a.createElement("div",null,r.a.createElement(Me.a,{path:"/",exact:!0,component:M}),r.a.createElement(Me.a,{path:"/signUp",exact:!0,component:K}),r.a.createElement(Me.a,{path:"/dashboard",exact:!0,component:Ae}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[202,1,2]]]);
//# sourceMappingURL=main.74b3e63c.chunk.js.map